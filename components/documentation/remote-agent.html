<div id="confluence-imported-doc">
	<div class="wiki-content">
		<!-- wiki content -->
		<h2 id="RemoteAgent-RemoteAgent">Remote Agent</h2>

		<p>
			The
			<gpname>GreenPepper</gpname>
			remote agent is a small server that can be used to execute specifications from a GreenPepper Server to another machine.
		</p>

		<p>This Agent is an answer to many purposes like this examples :</p>
		<ol>
			<li>Your GreenPepper server is installed on a unix machine and you need to execute .Net specifications on a windows machine.</li>
			<li>You do not want to execute your specifications directly on your GreenPepper Server.</li>
		</ol>


		<h3 id="RemoteAgent-Requirements">Requirements</h3>


		<h3 id="RemoteAgent-GreenPepperRemoteAgentinstallation">GreenPepper Remote Agent installation</h3>

		<p>
			The
			<gpname>GreenPepper</gpname>
			remote agent is a simple executable java application that can be found <a href="/web/20120710022929/http://www.greenpeppersoftware.com/confluence/display/GPW/Download" title="Download">here</a>.
		</p>
		<ol>
			<li>Copy the remote agent Jar file on the machine where your GreenPepper Server will sends its remotes executions.</li>
			<li>To launch the remote agent, just double-click on the Jar file or by command line.</li>
		</ol>


		<h5 id="RemoteAgent-Commandlinetostarttheremoteagentwithdefaultsettings%3A">Command line to start the remote agent with default settings :</h5>

		<div class="preformatted">
			<div class="preformattedContent">
				<pre>java -jar greenpepper-remote-agent-x.x-complete.jar
</pre>
			</div>
		</div>

		<h5 id="RemoteAgent-Commandlinetostarttheremoteagentonaspecifiedport%3A">Command line to start the remote agent on a specified port :</h5>

		<div class="preformatted">
			<div class="preformattedContent">
				<pre>java -jar greenpepper-remote-agent-x.x-complete.jar -port &lt;MyPortNumber&gt;
</pre>
			</div>
		</div>
		<table cellpadding='5' width='85%' cellspacing='8px' class='infoMacro' border="0" align='center'>
			<colgroup>
				<col width='24'>
				<col>
			</colgroup>
			<tr>
				<td valign='top'><img src="/web/20120710022929im_/http://www.greenpeppersoftware.com/confluence/images/icons/emoticons/information.gif" width="16" height="16" align="absmiddle" alt=""
					border="0"></td>
				<td><b class="strong">By default, the Remote Agent is listening on port 56000</b><br /></td>
			</tr>
		</table>

		<h3 id="RemoteAgent-Securedmode">Secured mode</h3>

		<p>The communication between your GreenPepper server and your agent can be secured with SSL.</p>

		<h4 id="RemoteAgent-Requirements">Requirements</h4>

		<ul>
			<li><b>1. On Remote Agent</b><br /> Your Remote Agent must be version 1.3 or higher<br /> You must have a KeyStore properly configured see <a
				href="/web/20120710022929/http://www.greenpeppersoftware.com/confluence/display/GPWODOC/Configuring+my+Agent+keystore" title="Configuring my Agent keystore">Configuring my Agent keystore</a></li>
		</ul>


		<ul>
			<li><b>2. On GreenPepper Server</b><br /> Your GreenPepper Server must be version 1.3 or higher<br /> You must have the agent certificate stored in your java cacerts file see <a
				href="/web/20120710022929/http://www.greenpeppersoftware.com/confluence/display/GPWODOC/Importing+the+Agent+certificate" title="Importing the Agent certificate">Importing the Agent certificate</a></li>
		</ul>


		<h4 id="RemoteAgent-EnablingSecuredMode">Enabling Secured Mode</h4>

		<ul>
			<li>On the remote agent<br /> To enable Secured mode start the remote agent with this command line :
				<div class="preformatted">
					<div class="preformattedContent">
						<pre>java -jar greenpepper-remote-agent-x.x-complete.jar -secured -keystore &lt;path to your keystore file&gt;
</pre>
					</div>
				</div></li>
		</ul>


		<ul>
			<li>On GreenPepper Server<br /> In Confluence or XWiki, get in GreenPepper Server Configuration, then Select the remote runner to be secured and just check the box "Secured Mode".
			</li>
		</ul>


		<h3 id="RemoteAgent-ConfigurationFile">Configuration File</h3>

		<p>
			Starting with version 2.1, the remote agent can use a property file to specify parameters (instead of the command line parameters). By default, the remote agent will look for a property file
			<tt>remoteagent.properties</tt>
			in the current directory. You can also use the command line parameter
			<tt>-config [path of the configuration file]</tt>
			to override the default property file.
		</p>

		<table class='confluenceTable'>
			<tbody>
				<tr>
					<th class='confluenceTh'>Command line parameter</th>
					<th class='confluenceTh'>Configuration file entry</th>
					<th class='confluenceTh'>Default Value</th>
				</tr>
				<tr>
					<td class='confluenceTd'>-port</td>
					<td class='confluenceTd'>greenpepper.remoteagent.port</td>
					<td class='confluenceTd'>56000</td>
				</tr>
				<tr>
					<td class='confluenceTd'>-secured</td>
					<td class='confluenceTd'>greenpepper.remoteagent.secured=[true or false]</td>
					<td class='confluenceTd'>false</td>
				</tr>
				<tr>
					<td class='confluenceTd'>-keystore</td>
					<td class='confluenceTd'>greenpepper.remoteagent.keystore.file=[path of the keystore file]</td>
					<td class='confluenceTd'>&#42; Mandatory if <tt>secured=true</tt>
					</td>
				</tr>
				<tr>
					<td class='confluenceTd'>&nbsp;</td>
					<td class='confluenceTd'>greenpepper.remoteagent.keystore.password=[the password of the keystore file]</td>
					<td class='confluenceTd'>&#42; Mandatory if <tt>secured=true</tt> and the keystore require a password
					</td>
				</tr>
			</tbody>
		</table>

		<p>
			The property
			<tt>greenpepper.remoteagent.keystore.password</tt>
			replace the command line input of the keystore password at remote agent startup.
		</p>
	</div>

</div>